
百合子設計局  
報告書番号 019

# 初代さーひすスタジオ・ハードウェア Tips
2022年に初代 Surface Studio を入手してしばらく使っているが、日本語の技術情報があまり落ちていないので、気が向いた時にちょこちょこ書くとする。Surface Studio 2, 2+ もほぼ同様のマシンなので、2の場合でも参考になるはず。

# 分解について
* すっげークセのある分解手順については [iFixit](https://jp.ifixit.com/Device/Microsoft_Surface_Studio_Gen_1) 参照
* SATA ドライブはヒートシンクを外さないと外せない💢
* CMOS バッテリーはヒートシンクを外し、更にSATA HDDを外したその裏にある💢
* 経年でホコリが溜まって GPU のサーマルスロットリングが発生しがちなので、年イチで分解掃除を推奨（ゲームのプレイにかなり支障がある程度にはスロットリングする）

# タッチパネルがイカレた時の切り離し方
経年劣化でタッチパネルや Surface Pen 用のデジタイザがイカレやすいが、そのままにしておくとマウスカーソルが飛び回る原因になるので、イカレたらソフト的に切り離した方が良い。

てかタッチパネルがイカレてる、ちうこ個体多すぎ問題・・・

## 手順
1. スタートボタンを右クリックし`デバイスマネージャー`を開く
2. ヒューマンインタフェースデバイス > HID準拠タッチスクリーンと辿る
3. HID準拠タッチスクリーンを右クリックし`デバイスを無効にする(D)`をクリック

# 内蔵ディスプレイはCentOSで認識できない
どおやらCentOS Stream 10では、内蔵ディスプレイが認識できないもよお。  
たまたま外付けディスプレイを繋いでいたので気づいたが、外付けが第1ディスプレイとして認識されて、そちらにのみ表示が出る・・・  
ディストリビューションによるかもしれないけど、Linuxを入れようと思っている人は、ちうい！

[参考ツイート](https://x.com/IchikawaYukko/status/1925474905891737668)

# RAID 0 キャッシュの切り離し方
デフォルトだとSATA HDDにキャッシュのNVMe SSDがくっついて SSHD 動作をしている、大変変わったストレージ構成になっている。

SATA HDDをSATA SSDに交換してからNVMeキャッシュを切り離すと、SATA, NVMe双方がWindowsから見えるようになるので、大容量SSDが安価になった令和時代はこのほうが便利。

SATA, NVMe にそれぞれ同容量SSDを詰んでRAID 1化しても良いし、RAIDを組まずに内蔵ストレージ2台構成としても便利っ。

なぉ、RAID 0 キャッシュを解除すれば、SATA側、NVMe側どちらからもブートできるよぉになるので、高速なNVMe側にWindowsをクローンして、システムディスクとしてしまうのもオススメ☆（百合子さんは、そーしました☆）

## 手順
1. Intel Rapid Storage Technology のバージョンが 14.5.0.1081 なドライバを入手する。新しいドライバではできない。（DELLのサイトにあるっぽい・・・）
2. 入手したドライバを上書きインストールして再起動
3. スタートめにうから Intel > インテル® ラピッド・ストレージ・テクノロジーを開く
4. 開くとRAID構成に関する操作ができるので、ステータスタブからNVMeキャッシュ(ソフトウェアRAID)を無効にする
5. 再起動。HDD側からOSが起動する。
6. NVMeキャッシュが無効になっているため、OSのパフォーマンスが非常に落ちている。NVMe側にOSをクローンするなり、クリーンインストールするなりして対応しよう！

### 別解
分解してHDDを取り出し、別のマシンでSSDにクローン。SSDを装着してブート後に上の手順を踏むと、キャッシュ解除後もパフォーマンスが落ちずに快適に利用できる

英語が読める人は[Surface Studio 1: How to disconnect the Rapid Hybrid Drive and install Windows 10 on full SSD](https://medium.com/@stephan.romhart/surface-studio-1-how-to-disconnect-the-rapid-hybrid-drive-and-install-windows-10-on-full-ssd-743a6375fab1)を参照

# 内蔵NVMe SSDはCentOSで認識できない
Intel Rapid Storage Technology でSSDとHDDを分離してもLinuxで見えるのはSATA HDD側のみなので、ちうい！`dd`でNVMe SSDへクローンするには、別マシンへの差し替えが必要。

# NVMe SSDにヒートシンクは装着不可
本体の隙間がわずかしかないため、市販のNVMe SSD用*ﾋｰﾖﾁﾝｸ*は装着不可。3mm厚の物ですら厚くて入らなかったし、これ以上薄いと*ﾋｰﾖﾁﾝｸ*としての役目を果たせなくなるので、装着不可と見てよいだろう。

ただし、WD BLACK SN850X (2TB) を装着して使った感じでは、いちおお*ﾋｰﾖﾁﾝｸ*なしで260MB/s(2080Gbps)出ているので、付けなくても問題ないだろう。

2TB SATA HDD + 2TB NVMe SSD の構成にして、っょっょマシンを作ると快適でいいぞっっっ！

# UEFI
UEFI(BIOS) 画面には

[音量上ボタン] を押しながら電源ONで入れる。UEFI画面が出るまで、音量上ボタンは押したままで。（さーひすシリーズ共通）
